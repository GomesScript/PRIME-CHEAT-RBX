-- Criação do ScreenGui e Frame para o menu
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MenuGui"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Criação do menu principal
local menuFrame = Instance.new("ScrollingFrame")
menuFrame.Size = UDim2.new(0, 300, 0, 400)
menuFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
menuFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
menuFrame.BorderSizePixel = 0
menuFrame.ScrollBarThickness = 8
menuFrame.Visible = false
menuFrame.Parent = screenGui

-- Criação do título "PRIME CHEATS" como marca d'água
local watermark = Instance.new("TextLabel")
watermark.Size = UDim2.new(0, 200, 0, 50)
watermark.Position = UDim2.new(0, 10, 0, 10)
watermark.BackgroundTransparency = 1
watermark.Text = "PRIME CHEATS"
watermark.TextColor3 = Color3.fromRGB(255, 255, 255)
watermark.TextScaled = true
watermark.TextStrokeTransparency = 0.5
watermark.TextSize = 24
watermark.Parent = screenGui

-- Função para gerar uma cor RGB viva aleatória
local function getRandomColor()
    return Color3.fromHSV(math.random(), 1, 1) -- Usando HSV para cores mais vivas
end

-- Função para atualizar a cor do texto com efeito RGB
local function updateWatermarkColor()
    while true do
        watermark.TextColor3 = getRandomColor()
        wait(0.2) -- Ajuste o intervalo para a velocidade do efeito RGB
    end
end

-- Inicia a atualização da cor do texto da marca d'água
coroutine.wrap(updateWatermarkColor)()

-- Criação do botão "Prime" para abrir/fechar o menu
local primeButton = Instance.new("TextButton")
primeButton.Size = UDim2.new(0, 80, 0, 40)
primeButton.Position = UDim2.new(1, -90, 0, 10)
primeButton.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
primeButton.Text = "Prime"
primeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
primeButton.TextScaled = true
primeButton.TextStrokeTransparency = 0.5
primeButton.ZIndex = 10
primeButton.Parent = screenGui

-- Função para alternar a visibilidade do menu
local function toggleMenu()
    menuFrame.Visible = not menuFrame.Visible
end

-- Conecta a função ao botão "Prime"
primeButton.MouseButton1Click:Connect(toggleMenu)

-- Adiciona a funcionalidade de arrastar o botão "Prime"
local draggingEnabled = false
local dragStartPos = nil
local buttonStartPos = nil

local function updatePosition(input)
    local delta = input.Position - dragStartPos
    primeButton.Position = UDim2.new(
        buttonStartPos.X.Scale,
        buttonStartPos.X.Offset + delta.X,
        buttonStartPos.Y.Scale,
        buttonStartPos.Y.Offset + delta.Y
    )
end

primeButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        draggingEnabled = true
        dragStartPos = input.Position
        buttonStartPos = primeButton.Position
    end
end)

primeButton.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        draggingEnabled = false
    end
end)

primeButton.InputChanged:Connect(function(input)
    if draggingEnabled and
        (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        updatePosition(input)
    end
end)

-- Criação do botão para Power Jump
local powerJumpLabel = Instance.new("TextLabel")
powerJumpLabel.Size = UDim2.new(1, 0, 0, 30)
powerJumpLabel.Position = UDim2.new(0, 0, 0, 50)
powerJumpLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
powerJumpLabel.Text = "Power Jump:"
powerJumpLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
powerJumpLabel.TextScaled = true
powerJumpLabel.TextStrokeTransparency = 0.5
powerJumpLabel.Parent = menuFrame

local powerJumpInput = Instance.new("TextBox")
powerJumpInput.Size = UDim2.new(1, -20, 0, 30)
powerJumpInput.Position = UDim2.new(0, 10, 0, 90)
powerJumpInput.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
powerJumpInput.TextColor3 = Color3.fromRGB(255, 255, 255)
powerJumpInput.TextScaled = true
powerJumpInput.PlaceholderText = "Enter jump power (0-300)"
powerJumpInput.Text = "0"
powerJumpInput.Parent = menuFrame

-- Função para atualizar o poder do pulo
local function updatePowerJump(power)
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("Humanoid") then
        character.Humanoid.JumpPower = power
    end
end

powerJumpInput.FocusLost:Connect(function()
    local power = tonumber(powerJumpInput.Text)
    if power and power >= 0 and power <= 300 then
        updatePowerJump(power)
    else
        powerJumpInput.Text = "0"
    end
end)

-- Criação do botão para Speedhack
local speedhackLabel = Instance.new("TextLabel")
speedhackLabel.Size = UDim2.new(1, 0, 0, 30)
speedhackLabel.Position = UDim2.new(0, 0, 0, 130)
speedhackLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
speedhackLabel.Text = "Speedhack:"
speedhackLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
speedhackLabel.TextScaled = true
speedhackLabel.TextStrokeTransparency = 0.5
speedhackLabel.Parent = menuFrame

local speedhackInput = Instance.new("TextBox")
speedhackInput.Size = UDim2.new(1, -20, 0, 30)
speedhackInput.Position = UDim2.new(0, 10, 0, 170)
speedhackInput.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
speedhackInput.TextColor3 = Color3.fromRGB(255, 255, 255)
speedhackInput.TextScaled = true
speedhackInput.PlaceholderText = "Enter speed (0-100)"
speedhackInput.Text = "16"
speedhackInput.Parent = menuFrame

-- Função para atualizar a velocidade do jogador
local function updateSpeed(speed)
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("Humanoid") then
        character.Humanoid.WalkSpeed = speed
    end
end

speedhackInput.FocusLost:Connect(function()
    local speed = tonumber(speedhackInput.Text)
    if speed and speed >= 0 and speed <= 100 then
        updateSpeed(speed)
    else
        speedhackInput.Text = "16"
    end
end)

-- Criação do botão para Teleportar para o jogador
local teleportButton = Instance.new("TextButton")
teleportButton.Size = UDim2.new(1, 0, 0, 50)
teleportButton.Position = UDim2.new(0, 0, 0, 210)
teleportButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
teleportButton.Text = "Teleport to Player"
teleportButton.TextColor3 = Color3.fromRGB(255, 255, 255)
teleportButton.TextScaled = true
teleportButton.TextStrokeTransparency = 0.5
teleportButton.ZIndex = 10
teleportButton.Parent = menuFrame

-- Criação do Frame para a lista de jogadores
local playerListFrame = Instance.new("ScrollingFrame")
playerListFrame.Size = UDim2.new(1, 0, 0, 150)
playerListFrame.Position = UDim2.new(0, 0, 0, 270)
playerListFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
playerListFrame.BorderSizePixel = 0
playerListFrame.ScrollBarThickness = 8
playerListFrame.Parent = menuFrame

-- Função para atualizar a lista de jogadores
local function updatePlayerList()
    -- Limpa a lista existente
    for _, child in pairs(playerListFrame:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
    
    -- Adiciona um botão para cada jogador
    local players = game.Players:GetPlayers()
    for i, player in ipairs(players) do
        if player ~= game.Players.LocalPlayer then
            local playerButton = Instance.new("TextButton")
            playerButton.Size = UDim2.new(1, -10, 0, 30)
            playerButton.Position = UDim2.new(0, 5, 0, (i - 1) * 35)
            playerButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
            playerButton.Text = player.Name
            playerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            playerButton.TextScaled = true
            playerButton.TextStrokeTransparency = 0.5
            playerButton.Parent = playerListFrame

            -- Função para teleportar ao jogador quando o botão for clicado
            playerButton.MouseButton1Click:Connect(function()
                if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                    game.Players.LocalPlayer.Character:MoveTo(player.Character.HumanoidRootPart.Position)
                end
            end)
        end
    end
end

-- Atualiza a lista de jogadores quando o menu é aberto
primeButton.MouseButton1Click:Connect(function()
    toggleMenu()
    if menuFrame.Visible then
        updatePlayerList()
    end
end)

-- Criação do botão para fechar o menu
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 60, 0, 30)
closeButton.Position = UDim2.new(1, -70, 0, 10)
closeButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
closeButton.Text = "Close"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.TextStrokeTransparency = 0.5
closeButton.ZIndex = 10
closeButton.Parent = menuFrame

closeButton.MouseButton1Click:Connect(function()
    menuFrame.Visible = false
end)

-- Atualiza a lista de jogadores sempre que um jogador entra ou sai do jogo
game.Players.PlayerAdded:Connect(updatePlayerList)
game.Players.PlayerRemoved:Connect(updatePlayerList)
